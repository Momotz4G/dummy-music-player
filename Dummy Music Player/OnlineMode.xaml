<UserControl x:Class="Dummy_Music_Player.OnlineMode"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Dummy_Music_Player"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="700">

    <UserControl.Resources>
        <Style x:Key="SeekBarThumbStyle" TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Ellipse x:Name="ThumbEllipse" Width="16" Height="16" Fill="#0395a6" Stroke="White" StrokeThickness="2"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#05b9cd"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#05b9cd"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="SeekBarProgressTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle x:Name="ProgressRectangle" Height="4" Fill="#0395a6" RadiusX="2" RadiusY="2"/>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="ProgressRectangle" Property="Fill" Value="#05b9cd"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>
        <ControlTemplate x:Key="SeekBarTrackBackgroundTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle Fill="Transparent" />
        </ControlTemplate>
        <ControlTemplate x:Key="CustomSeekBarTemplate" TargetType="{x:Type Slider}">
            <Grid VerticalAlignment="Center">
                <Rectangle x:Name="TrackBackground" Fill="#40000000" Height="4" RadiusX="2" RadiusY="2" />
                <Track x:Name="PART_Track">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.DecreaseLarge}" Template="{StaticResource SeekBarProgressTemplate}" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource SeekBarThumbStyle}" />
                    </Track.Thumb>
                    <Track.IncreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.IncreaseLarge}" Template="{StaticResource SeekBarTrackBackgroundTemplate}" />
                    </Track.IncreaseRepeatButton>
                </Track>
            </Grid>
        </ControlTemplate>
        <Style x:Key="CustomSeekBarStyle" TargetType="{x:Type Slider}">
            <Setter Property="Template" Value="{StaticResource CustomSeekBarTemplate}"/>
        </Style>

        <Style x:Key="VolumeThumbStyle" TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Ellipse x:Name="ThumbEllipse"
                                 Width="12" Height="12"
                                 Fill="#facae2"
                                 Stroke="#FF777777"
                                 StrokeThickness="1"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#FFEEEEEE"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#FFDDDDDD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <ControlTemplate x:Key="VolumeProgressTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle x:Name="ProgressRectangle"
                         Height="3"
                         Fill="#f01884" 
                         RadiusX="1.5" RadiusY="1.5"/>
        </ControlTemplate>
        <ControlTemplate x:Key="CustomVolumeBarTemplate" TargetType="{x:Type Slider}">
            <Grid VerticalAlignment="Center">
                <Rectangle x:Name="TrackBackground"
                             Fill="#40000000" 
                             Height="3"
                             RadiusX="1.5" RadiusY="1.5" />
                <Track x:Name="PART_Track">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.DecreaseLarge}" 
                                      Template="{StaticResource VolumeProgressTemplate}" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource VolumeThumbStyle}" />
                    </Track.Thumb>
                </Track>
            </Grid>
        </ControlTemplate>
        <Style x:Key="CustomVolumeBarStyle" TargetType="{x:Type Slider}">
            <Setter Property="Template" Value="{StaticResource CustomVolumeBarTemplate}"/>
        </Style>
    </UserControl.Resources>

    <Grid Background="#60FFFFFF">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0" Margin="10,0,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Image Name="AlbumArtImage" Width="100" Height="100" Margin="5" Stretch="Uniform"/>
            <StackPanel Grid.Column="1" VerticalAlignment="Top" Margin="10,5,10,0">
                <TextBlock Name="SongTitleText" Text="Online Mode" FontSize="16" FontWeight="Bold" TextTrimming="CharacterEllipsis"/>
                <TextBlock Name="ArtistAlbumText" Text="Search for music to begin" FontSize="12" TextTrimming="CharacterEllipsis"/>
            </StackPanel>

            <StackPanel Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10,0">
                <TextBlock Name="NextSongText" Text="Next: ..." HorizontalAlignment="Right" Margin="0,0,5,0" FontStyle="Italic"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Name="ShuffleButton" Content="🔀" Width="40" Margin="5" Padding="5" Click="ShuffleButton_Click" ToolTipService.Placement="Top"
                            FontWeight="Bold" ToolTip="Shuffle Off"/>

                    <Button Name="PrevButton" Content="◀◀" Margin="5" Padding="10,5" Click="PrevButton_Click"/>
                    <Button Name="PlayButton" Content="▶" Margin="5" Padding="10,5" Click="PlayButton_Click"/>
                    <Button Name="NextButton" Content="▶▶" Margin="5" Padding="10,5" Click="NextButton_Click"/>

                    <Button Name="RepeatButton" Content="🔁" Width="40" Margin="5" Padding="5" Click="RepeatButton_Click" ToolTipService.Placement="Top"
                            FontWeight="Bold" ToolTip="Repeat Off"/>
                    <Button Name="PinButton" Content="📌" Width="40" Margin="5" Padding="5" 
                            Click="PinButton_Click" FontWeight="Bold" ToolTip="Pin to Top (Off)" ToolTipService.Placement="Top"/>

                    <Button Name="MiniPlayerButton" Width="40" Margin="5" Padding="5" 
                            Click="MiniPlayerButton_Click" ToolTip="Switch to Mini-Player" ToolTipService.Placement="Top">
                        <Image Source="Assets/Mini-player_minimize_button.png" Width="16" Height="16" />
                    </Button>
                </StackPanel>
            </StackPanel>
        </Grid>

        <Grid Grid.Row="1" Margin="10,0,10,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <TextBlock Name="CurrentTimeText" Grid.Column="0" Text="00:00" VerticalAlignment="Center" Margin="5,0"/>

            <Slider Name="SeekBar" Grid.Column="1" Margin="5" IsEnabled="False"
                    ValueChanged="SeekBar_ValueChanged"
                    PreviewMouseLeftButtonDown="SeekBar_PreviewMouseLeftButtonDown"
                    PreviewMouseLeftButtonUp="SeekBar_PreviewMouseLeftButtonUp"
                    Style="{StaticResource CustomSeekBarStyle}"
                    IsMoveToPointEnabled="True"/>

            <TextBlock Name="RemainingTimeText" Grid.Column="2" Text="-00:00" VerticalAlignment="Center" Margin="5,0"/>

            <Grid Grid.Column="3">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Name="SpeakerIcon" Text=" 🔊" VerticalAlignment="Center" 
                               Margin="10,0,5,0" Cursor="Hand"
                               MouseLeftButtonDown="SpeakerIcon_MouseLeftButtonDown"/>

                    <Slider Name="VolumeSlider" Width="100" VerticalAlignment="Center"
                            Minimum="0" Maximum="1" Value="0.3"
                            ValueChanged="VolumeSlider_ValueChanged"
                            Style="{StaticResource CustomVolumeBarStyle}"
                            IsMoveToPointEnabled="True"/>
                </StackPanel>
            </Grid>
        </Grid>

        <Grid Grid.Row="2" Margin="10,5,10,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <TextBox x:Name="SearchBox" Grid.Column="0" Margin="5,0,5,0" 
                     Text="Search for music..." 
                     Foreground="Gray"
                     GotFocus="SearchBox_GotFocus" 
                     LostFocus="SearchBox_LostFocus" />
            <Button x:Name="SearchButton" Grid.Column="1" Content="Search" 
                    Padding="10,2" Margin="5,0,0,0" 
                    Click="SearchButton_Click" />
        </Grid>

        <ListView Name="SearchResultsListBox" Grid.Row="3" Margin="5"
                  SelectionChanged="SearchResultsListBox_SelectionChanged"
                  Background="Transparent" BorderBrush="#20000000">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Title" Width="300" DisplayMemberBinding="{Binding Name}"/>
                    <GridViewColumn Header="Artist" Width="300" DisplayMemberBinding="{Binding Artist}"/>
                </GridView>
            </ListView.View>
        </ListView>

    </Grid>
</UserControl>