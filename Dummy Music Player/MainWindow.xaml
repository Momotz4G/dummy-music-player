<Window x:Class="Dummy_Music_Player.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Dummy_Music_Player"
        mc:Ignorable="d"
        Title="Simple Music Player"
        Width="705" MinWidth="705"
        Height="450" ResizeMode="CanResize"
        Closing="Window_Closing"
        PreviewKeyDown="Window_PreviewKeyDown"
        Loaded="Window_Loaded">

    <Window.Resources>

        <Style x:Key="SeekBarThumbStyle" TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Ellipse x:Name="ThumbEllipse"
                                 Width="16" Height="16"
                                 Fill="#0395a6"
                                 Stroke="White"
                                 StrokeThickness="2"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#05b9cd"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#05b9cd"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ControlTemplate x:Key="SeekBarProgressTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle x:Name="ProgressRectangle"
                       Height="4"
                       Fill="#0395a6" 
                       RadiusX="2" RadiusY="2"/>
            <ControlTemplate.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter TargetName="ProgressRectangle" Property="Fill" Value="#05b9cd"/>
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

        <ControlTemplate x:Key="SeekBarTrackBackgroundTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle Fill="Transparent" />
        </ControlTemplate>

        <ControlTemplate x:Key="CustomSeekBarTemplate" TargetType="{x:Type Slider}">
            <Grid VerticalAlignment="Center">
                <Rectangle x:Name="TrackBackground"
                           Fill="#40000000" 
                           Height="4"
                           RadiusX="2" RadiusY="2" />

                <Track x:Name="PART_Track">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.DecreaseLarge}" 
                                      Template="{StaticResource SeekBarProgressTemplate}" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource SeekBarThumbStyle}" />
                    </Track.Thumb>

                    <Track.IncreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.IncreaseLarge}" 
                                      Template="{StaticResource SeekBarTrackBackgroundTemplate}" />
                    </Track.IncreaseRepeatButton>
                </Track>
            </Grid>
        </ControlTemplate>

        <Style x:Key="CustomSeekBarStyle" TargetType="{x:Type Slider}">
            <Setter Property="Template" Value="{StaticResource CustomSeekBarTemplate}"/>
        </Style>

        <Style x:Key="VolumeThumbStyle" TargetType="{x:Type Thumb}">
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="OverridesDefaultStyle" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Thumb}">
                        <Ellipse x:Name="ThumbEllipse"
                                 Width="12" Height="12"
                                 Fill="#facae2"
                                 Stroke="#FF777777"
                                 StrokeThickness="1"/>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#FFEEEEEE"/>
                            </Trigger>
                            <Trigger Property="IsDragging" Value="True">
                                <Setter TargetName="ThumbEllipse" Property="Fill" Value="#FFDDDDDD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <ControlTemplate x:Key="VolumeProgressTemplate" TargetType="{x:Type RepeatButton}">
            <Rectangle x:Name="ProgressRectangle"
                       Height="3"
                       Fill="#f01884" 
                       RadiusX="1.5" RadiusY="1.5"/>
        </ControlTemplate>

        <ControlTemplate x:Key="CustomVolumeBarTemplate" TargetType="{x:Type Slider}">
            <Grid VerticalAlignment="Center">
                <Rectangle x:Name="TrackBackground"
                           Fill="#40000000" 
                           Height="3"
                           RadiusX="1.5" RadiusY="1.5" />

                <Track x:Name="PART_Track">
                    <Track.DecreaseRepeatButton>
                        <RepeatButton Command="{x:Static Slider.DecreaseLarge}" 
                                      Template="{StaticResource VolumeProgressTemplate}" />
                    </Track.DecreaseRepeatButton>
                    <Track.Thumb>
                        <Thumb Style="{StaticResource VolumeThumbStyle}" />
                    </Track.Thumb>
                </Track>
            </Grid>
        </ControlTemplate>

        <Style x:Key="CustomVolumeBarStyle" TargetType="{x:Type Slider}">
            <Setter Property="Template" Value="{StaticResource CustomVolumeBarTemplate}"/>
        </Style>

    </Window.Resources>

    <Grid>

        <Image x:Name="BlurredBackgroundImage" 
               Stretch="UniformToFill" 
               Opacity="0.2">
            <Image.Effect>
                <BlurEffect Radius="30" />
            </Image.Effect>
            <Image.RenderTransform>
                <ScaleTransform CenterX="0.5" CenterY="0.5" ScaleX="1.2" ScaleY="1.2"/>
            </Image.RenderTransform>
        </Image>

        <Grid Name="MainGrid" Focusable="True" MouseLeftButtonDown="MainGrid_MouseLeftButtonDown"
              AllowDrop="True" 
              DragEnter="MainGrid_DragEnter" 
              Drop="MainGrid_Drop">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Menu Grid.Column="0" Margin="0,0,10,0" Background="Transparent">
                    <MenuItem Header="_File">
                        <MenuItem Header="_Open Folder" Click="LoadFolderButton_Click"/>
                        <MenuItem Header="_Save Queue as Playlist..." Click="SaveQueue_Click"/>
                        <MenuItem Header="_Load Playlist..." Click="LoadQueue_Click"/>
                    </MenuItem>
                    <MenuItem Header="_Options">
                        <MenuItem x:Name="NotificationToggleMenuItem" 
                                  Header="Enable Notifications" 
                                  IsCheckable="True" 
                                  IsChecked="True" 
                                  Click="NotificationToggle_Click"/>
                        <MenuItem Header="_Show 'What's New' on next start" Click="ResetWhatsNew_Click"/>
                    </MenuItem>
                    <MenuItem Header="_About" Click="AboutMenuItem_Click"/>
                </Menu>

                <StackPanel Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Button x:Name="OfflineModeButton" Content="Offline" Padding="10,2" Margin="0,0,5,0"
                            Click="OfflineModeButton_Click" IsEnabled="False"/>
                    <Button x:Name="OnlineModeButton" Content="Online" Padding="10,2" 
                            Click="OnlineModeButton_Click" />
                </StackPanel>
            </Grid>

            <Grid x:Name="MainPlayerGrid" Grid.Row="1" Margin="10,0,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Image Name="AlbumArtImage" Width="100" Height="100" Margin="5" Stretch="Uniform"/>
                <StackPanel Grid.Column="1" VerticalAlignment="Top" Margin="10,5,10,0">

                    <TextBlock Name="SongTitleText" 
                               Text="No Song Selected" FontSize="16" FontWeight="Bold"
                               TextTrimming="CharacterEllipsis"/>

                    <TextBlock Name="ArtistAlbumText" 
                               Text="Artist - Album" 
                               FontSize="12"
                               TextTrimming="CharacterEllipsis"
                               ToolTip="{Binding Text, RelativeSource={RelativeSource Self}}"/>

                    <ScrollViewer x:Name="ArtistBioScrollViewer"
                                  VerticalScrollBarVisibility="Auto" 
                                  MaxHeight="80" 
                                  Visibility="Collapsed">
                        <TextBlock x:Name="ArtistBioTextBlock" 
                                   Text="" 
                                   FontSize="12"
                                   TextWrapping="Wrap" />
                    </ScrollViewer>
                </StackPanel>

                <StackPanel Grid.Column="2" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10,0">
                    <TextBlock Name="NextSongText" Text="Next: ..." HorizontalAlignment="Right"
                               Margin="0,0,5,0" FontStyle="Italic"/>
                    <StackPanel x:Name="PlaybackControlsPanel" Orientation="Horizontal" HorizontalAlignment="Right">
                        <Button Name="ShuffleButton" Content="🔀" Width="40" Margin="5" Padding="5" Click="ShuffleButton_Click" ToolTipService.Placement="Top"
                                FontWeight="Bold" ToolTip="Shuffle Off"/>
                        <Button Name="PrevButton" Content="◀◀" Margin="5" Padding="10,5" Click="PrevButton_Click"/>
                        <Button Name="PlayButton" Content="▶" Margin="5" Padding="10,5" Click="PlayButton_Click" ToolTipService.Placement="Top"/>
                        <Button Name="NextButton" Content="▶▶" Margin="5" Padding="10,5" Click="NextButton_Click"/>
                        <Button Name="RepeatButton" Content="🔁" Width="40" Margin="5" Padding="5" Click="RepeatButton_Click" ToolTipService.Placement="Top"
                                FontWeight="Bold" ToolTip="Repeat Off"/>
                        <Button Name="PinButton" Content="📌" Width="40" Margin="5" Padding="5" 
                                Click="PinButton_Click" FontWeight="Bold" ToolTip="Pin to Top (Off)" ToolTipService.Placement="Top"/>
                        <Button Name="MiniPlayerButton" Width="40" Margin="5" Padding="5" 
                                Click="MiniPlayerButton_Click" ToolTip="Switch to Mini-Player" ToolTipService.Placement="Top">
                            <Image Source="Assets/Mini-player_minimize_button.png" Width="16" Height="16" />
                        </Button>
                    </StackPanel>
                </StackPanel>
            </Grid>

            <Grid Grid.Row="2" x:Name="PlayerControlsGrid" Margin="10,0,10,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Name="CurrentTimeText" Grid.Column="0" Text="00:00" VerticalAlignment="Center" Margin="5,0"/>

                <Slider Name="SeekBar" Grid.Column="1" Margin="5" IsEnabled="False"
                        ValueChanged="SeekBar_ValueChanged"
                        PreviewMouseLeftButtonDown="SeekBar_PreviewMouseLeftButtonDown"
                        PreviewMouseLeftButtonUp="SeekBar_PreviewMouseLeftButtonUp"
                        Style="{StaticResource CustomSeekBarStyle}"
                        IsMoveToPointEnabled="True"/>

                <TextBlock Name="RemainingTimeText" Grid.Column="2" Text="-00:00" VerticalAlignment="Center" Margin="5,0"/>
                <Grid Grid.Column="3">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Name="SpeakerIcon" Text=" 🔊" VerticalAlignment="Center" 
                                   Margin="10,0,5,0" Cursor="Hand"
                                   MouseLeftButtonDown="SpeakerIcon_MouseLeftButtonDown"/>

                        <Slider Name="VolumeSlider" Width="100" VerticalAlignment="Center"
                                Minimum="0" Maximum="1" Value="0.3"
                                ValueChanged="VolumeSlider_ValueChanged"
                                Style="{StaticResource CustomVolumeBarStyle}"
                                IsMoveToPointEnabled="True"/>
                    </StackPanel>
                    <TextBlock Name="VolumePopupText" Text="30%"
                               HorizontalAlignment="Right" VerticalAlignment="Top"
                               Margin="0,0,10,0" IsHitTestVisible="False"
                               Visibility="Collapsed"/>
                </Grid>

                <Button Name="LyricsButton" Grid.Column="4" 
                    Width="40" VerticalAlignment="Center" Margin="5,0,0,0"
                    Padding="5" Click="LyricsButton_Click" ToolTip="Show/Hide Lyrics"
                    Background="Transparent" 
                    BorderBrush="Transparent">

                    <Image Source="Assets/song-lyrics_button.png" Width="16" Height="16" />
                </Button>

            </Grid>

            <Grid Grid.Row="3" Margin="10,5,10,10">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel x:Name="OfflineViewSwitcherPanel" Grid.Row="0" Orientation="Horizontal" Margin="5,0,5,5">
                    <Button x:Name="QueueViewButton" Content="Queue" Padding="10,2" Margin="0,0,5,0" 
                            Click="QueueViewButton_Click" IsEnabled="False"/>
                    <Button x:Name="LibraryViewButton" Content="Library" Padding="10,2" 
                            Click="LibraryViewButton_Click"/>

                    <Button x:Name="LibraryBackButton" Content="◀ Back" Padding="10,2" Margin="10,0,0,0" 
                            Click="LibraryBackButton_Click" Visibility="Collapsed"/>
                </StackPanel>

                <Grid Grid.Row="1">

                    <Grid x:Name="OfflineContentGrid" Visibility="Visible">

                        <Grid x:Name="QueueViewGrid" Visibility="Visible" Background="#60FFFFFF">
                            <Grid.Resources>
                                <Style TargetType="GridViewColumnHeader">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="BorderBrush" Value="#20000000" />
                                    <Setter Property="BorderThickness" Value="0,0,1,1" />
                                </Style>
                            </Grid.Resources>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <TextBlock Name="PriorityQueueTitle" Grid.Row="0" Text="Up Next (Priority)" FontWeight="Bold" Margin="5,0,5,5" Visibility="Collapsed"/>
                            <ListView Name="PriorityQueueListBox" Grid.Row="1" Margin="5,0,5,5" SelectionChanged="PriorityQueueListBox_SelectionChanged" MaxHeight="100" Visibility="Collapsed" Background="Transparent" BorderBrush="Transparent" AllowDrop="False">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="#" Width="32" DisplayMemberBinding="{Binding PriorityNumber}"/>
                                        <GridViewColumn Header="Title" Width="198">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Title}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Title}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Header="Artist" Width="130">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Artist}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Artist}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Header="Album" Width="130">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Album}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Album}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Width="68">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Content="Remove" Click="RemoveFromPriority_Click" ToolTip="Remove from Queue" Padding="5,0"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                            <Grid Grid.Row="2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Full Queue" FontWeight="Bold" Margin="5,0,5,5" VerticalAlignment="Center"/>
                                <TextBox Name="SearchBox" Grid.Column="1" Width="200" Margin="5,0,5,5" TextChanged="SearchBox_TextChanged" GotFocus="SearchBox_GotFocus" LostFocus="SearchBox_LostFocus" AllowDrop="False"/>
                            </Grid>
                            <ListView Name="PlaylistListBox" Grid.Row="3" Margin="5,0,5,5" SelectionChanged="PlaylistListBox_SelectionChanged" Background="Transparent" BorderBrush="Transparent" AllowDrop="False">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="#" Width="32" DisplayMemberBinding="{Binding TrackNumber}"/>
                                        <GridViewColumn Header="Title" Width="198">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Title}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Title}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Header="Artist" Width="130">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Artist}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Artist}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Header="Album" Width="130">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding Album}" TextTrimming="CharacterEllipsis" ToolTip="{Binding Album}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Width="24">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <Button Content="+" Click="PlayNext_Click" ToolTip="Play Next (Add to Queue)" ToolTipService.Placement="Top" Visibility="{Binding AddButtonVisibility}"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                        <GridViewColumn Width="100">
                                            <GridViewColumn.CellTemplate>
                                                <DataTemplate>
                                                    <TextBlock Text="{Binding NowPlayingText}" FontWeight="Bold" Foreground="#0395a6"/>
                                                </DataTemplate>
                                            </GridViewColumn.CellTemplate>
                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <Style.Resources>
                                            <SolidColorBrush x:Key="{x:Static SystemColors.InactiveSelectionHighlightBrushKey}" Color="{x:Static SystemColors.HighlightColor}"/>
                                        </Style.Resources>
                                        <Setter Property="BorderBrush" Value="#20000000"/>
                                        <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                    </Style>
                                </ListView.ItemContainerStyle>
                            </ListView>
                        </Grid>

                        <Grid x:Name="LibraryViewGrid" Visibility="Collapsed" Background="#60FFFFFF">
                            <Grid.Resources>
                                <DataTemplate x:Key="ArtistItemTemplate">
                                    <StackPanel Width="120" Height="150" Margin="5">
                                        <Border Width="110" Height="110" BorderBrush="#20000000" BorderThickness="1">
                                            <Image Source="{Binding ArtistArt, TargetNullValue={x:Null}}" Stretch="UniformToFill"/>
                                        </Border>
                                        <TextBlock Text="{Binding ArtistName}" FontWeight="Bold" TextTrimming="CharacterEllipsis" Margin="5,2,5,0"/>
                                    </StackPanel>
                                </DataTemplate>
                                <DataTemplate x:Key="AlbumItemTemplate">
                                    <StackPanel Width="120" Height="150" Margin="5">
                                        <Border Width="110" Height="110" BorderBrush="#20000000" BorderThickness="1">
                                            <Image Source="{Binding AlbumArt, TargetNullValue={x:Null}}" Stretch="UniformToFill"/>
                                        </Border>
                                        <TextBlock Text="{Binding AlbumTitle}" FontWeight="Bold" TextTrimming="CharacterEllipsis" Margin="5,2,5,0"/>
                                    </StackPanel>
                                </DataTemplate>
                                <ItemsPanelTemplate x:Key="LibraryGridPanel">
                                    <WrapPanel/>
                                </ItemsPanelTemplate>
                            </Grid.Resources>
                            <ListBox x:Name="ArtistGridView" Background="Transparent" BorderBrush="Transparent" ItemsPanel="{StaticResource LibraryGridPanel}" ItemTemplate="{StaticResource ArtistItemTemplate}" SelectionChanged="ArtistGridView_SelectionChanged" HorizontalContentAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled"/>
                            <ListBox x:Name="AlbumGridView" Background="Transparent" BorderBrush="Transparent" ItemsPanel="{StaticResource LibraryGridPanel}" ItemTemplate="{StaticResource AlbumItemTemplate}" SelectionChanged="AlbumGridView_SelectionChanged" HorizontalContentAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Visibility="Collapsed"/>
                            <ListView x:Name="LibrarySongList" Margin="5" Background="Transparent" BorderBrush="Transparent" MouseDoubleClick="LibrarySongList_MouseDoubleClick" Visibility="Collapsed">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="#" Width="32" DisplayMemberBinding="{Binding TrackNumber}"/>
                                        <GridViewColumn Header="Title" Width="220" DisplayMemberBinding="{Binding Title}"/>
                                        <GridViewColumn Header="Artist" Width="190" DisplayMemberBinding="{Binding Artist}"/>
                                        <GridViewColumn Header="Album" Width="190" DisplayMemberBinding="{Binding Album}"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </Grid>

                    </Grid>

                    <local:OnlineMode x:Name="OnlineContentGrid" Visibility="Collapsed" OnPinClicked="OnlineMode_PinClicked" OnMiniPlayerClicked="OnlineMode_MiniPlayerClicked" />

                    <Grid x:Name="LyricsViewGrid" Background="#fdc4ff" Visibility="Collapsed">
                        <Grid.Resources>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                <Setter Property="Padding" Value="2,5"/>
                                <Setter Property="FontSize" Value="14"/>
                                <Setter Property="FontWeight" Value="Normal"/>
                                <Setter Property="Foreground" Value="#555555"/>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsCurrentLine}" Value="True">
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="FontSize" Value="16"/>
                                        <Setter Property="Foreground" Value="#0395a6"/>
                                    </DataTrigger>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="Transparent"/>
                                        <Setter Property="BorderBrush" Value="Transparent"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Resources>

                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>


                        <ListBox x:Name="LyricsListBox" Grid.Row="1"
                             Background="Transparent" 
                             BorderBrush="Transparent"
                             SelectionMode="Single"
                             DisplayMemberPath="Text"/>
                    </Grid>
                </Grid>
            </Grid>
        </Grid>
    </Grid>
</Window>